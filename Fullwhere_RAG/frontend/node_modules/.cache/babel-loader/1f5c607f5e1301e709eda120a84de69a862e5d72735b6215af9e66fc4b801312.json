{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\onexy\\\\Desktop\\\\cours\\\\DesignThinking_IndustrialisationIA\\\\Fullwhere_RAG\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/query';\n\n// --- Interfaces ---\n\n// --- SVG Icon Components ---\nconst SunIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 205\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 244\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"21\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 287\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"4.22\",\n    x2: \"5.64\",\n    y2: \"5.64\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 332\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"18.36\",\n    x2: \"19.78\",\n    y2: \"19.78\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 385\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"1\",\n    y1: \"12\",\n    x2: \"3\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 442\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"23\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 485\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"19.78\",\n    x2: \"5.64\",\n    y2: \"18.36\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 530\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"5.64\",\n    x2: \"19.78\",\n    y2: \"4.22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 585\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 5\n}, this);\n_c = SunIcon;\nconst MoonIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 205\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 5\n}, this);\n_c2 = MoonIcon;\nconst SendIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10 14L21 3\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 122\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21 3L14.5 21L10 14L3 10.5L21 3Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 228\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 30,\n  columnNumber: 5\n}, this);\n_c3 = SendIcon;\nconst UserIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 205\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 264\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 34,\n  columnNumber: 5\n}, this);\n_c4 = UserIcon;\nconst BotIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 8V4H8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 205\n  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"4\",\n    y: \"12\",\n    width: \"16\",\n    height: \"8\",\n    rx: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2 12h20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 277\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m18 4-2.45 2.45\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 298\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m6 4 2.45 2.45\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 326\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 38,\n  columnNumber: 5\n}, this);\n_c5 = BotIcon;\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [theme, setTheme] = useState('light');\n  const chatEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    document.documentElement.className = theme;\n  }, [theme]);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, isLoading]);\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      const scrollHeight = textareaRef.current.scrollHeight;\n      const maxHeight = 200; // 200px max height\n      textareaRef.current.style.height = `${Math.min(scrollHeight, maxHeight)}px`;\n    }\n  }, [input]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n    const userMessage = {\n      sender: 'user',\n      text: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n    try {\n      const response = await axios.post(API_URL, {\n        query: input\n      });\n      const botMessage = {\n        sender: 'bot',\n        text: response.data.answer || \"Sorry, I couldn't get a response.\",\n        sources: response.data.sources || []\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = {\n        sender: 'bot',\n        text: `An error occurred: ${error.message}`\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const toggleTheme = () => {\n    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col h-screen font-sans relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 w-72 h-72 bg-violet-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob dark:hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 right-0 w-72 h-72 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000 dark:hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-0 left-1/4 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000 dark:hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-col h-full w-full max-w-4xl mx-auto z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"sticky top-0 z-20 flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-white/70 dark:bg-gray-800/70 backdrop-blur-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(BotIcon, {\n            className: \"w-8 h-8 text-violet-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold\",\n            children: \"RAG Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleTheme,\n          className: \"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-violet-500\",\n          children: theme === 'light' ? /*#__PURE__*/_jsxDEV(MoonIcon, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 46\n          }, this) : /*#__PURE__*/_jsxDEV(SunIcon, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 81\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-y-auto p-6 space-y-8\",\n        children: [messages.length === 0 && !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 dark:text-gray-400 pt-16\",\n          children: [/*#__PURE__*/_jsxDEV(BotIcon, {\n            className: \"w-16 h-16 mx-auto mb-4 text-violet-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold\",\n            children: \"Welcome to your RAG Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ask a question about your documents to get started.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-start gap-4 ${msg.sender === 'user' ? 'justify-end' : ''}`,\n          children: [msg.sender === 'bot' && /*#__PURE__*/_jsxDEV(BotIcon, {\n            className: \"w-8 h-8 flex-shrink-0 text-violet-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `prose dark:prose-invert max-w-2xl p-4 rounded-xl shadow-md ${msg.sender === 'user' ? 'bg-violet-500 text-white rounded-br-none' : 'bg-white dark:bg-gray-800 rounded-bl-none'}`,\n            children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              remarkPlugins: [remarkGfm],\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 33\n          }, this), msg.sender === 'user' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 flex-shrink-0 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(UserIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 173\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 59\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(BotIcon, {\n            className: \"w-8 h-8 flex-shrink-0 text-violet-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose dark:prose-invert max-w-2xl p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 rounded-bl-none\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-violet-500 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-violet-500 rounded-full animate-pulse [animation-delay:0.2s]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-violet-500 rounded-full animate-pulse [animation-delay:0.4s]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chatEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"p-4 sticky bottom-0 z-20\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"relative\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              ref: textareaRef,\n              value: input,\n              onChange: e => setInput(e.target.value),\n              onKeyDown: handleKeyDown,\n              placeholder: \"Ask your question...\",\n              disabled: isLoading,\n              rows: 1,\n              className: \"w-full p-4 pr-12 text-base bg-white/70 dark:bg-gray-800/70 border border-gray-300/50 dark:border-gray-600/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500 dark:focus:ring-violet-500 resize-none shadow-lg transition-all duration-300\\r backdrop-blur-md\\r \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full text-violet-500 hover:bg-violet-100 dark:hover:bg-gray-700 disabled:text-gray-400 disabled:dark:text-gray-500 disabled:hover:bg-transparent transition-colors\",\n              disabled: !input.trim() || isLoading,\n              children: /*#__PURE__*/_jsxDEV(SendIcon, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"vVM1Kg8lyXZRh4/bcC19Dp9zArY=\");\n_c6 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SunIcon\");\n$RefreshReg$(_c2, \"MoonIcon\");\n$RefreshReg$(_c3, \"SendIcon\");\n$RefreshReg$(_c4, \"UserIcon\");\n$RefreshReg$(_c5, \"BotIcon\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ReactMarkdown","remarkGfm","jsxDEV","_jsxDEV","API_URL","SunIcon","className","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","cx","cy","r","fileName","_jsxFileName","lineNumber","columnNumber","x1","y1","x2","y2","_c","MoonIcon","d","_c2","SendIcon","_c3","UserIcon","_c4","BotIcon","x","y","rx","_c5","App","_s","messages","setMessages","input","setInput","isLoading","setIsLoading","theme","setTheme","chatEndRef","textareaRef","document","documentElement","_chatEndRef$current","current","scrollIntoView","behavior","style","scrollHeight","maxHeight","Math","min","handleSubmit","e","preventDefault","trim","userMessage","sender","text","prev","response","post","query","botMessage","data","answer","sources","error","errorMessage","message","handleKeyDown","key","shiftKey","toggleTheme","prevTheme","onClick","length","map","msg","index","remarkPlugins","ref","onSubmit","value","onChange","target","onKeyDown","placeholder","disabled","rows","type","_c6","$RefreshReg$"],"sources":["C:/Users/onexy/Desktop/cours/DesignThinking_IndustrialisationIA/Fullwhere_RAG/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\n\r\nconst API_URL = 'http://localhost:5001/query';\r\n\r\n// --- Interfaces ---\r\ninterface Source {\r\n  content: string;\r\n  file?: string;\r\n}\r\n\r\ninterface Message {\r\n  sender: 'user' | 'bot';\r\n  text: string;\r\n  sources?: Source[];\r\n}\r\n\r\n// --- SVG Icon Components ---\r\nconst SunIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"5\"></circle><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line></svg>\r\n);\r\n\r\nconst MoonIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path></svg>\r\n);\r\n\r\nconst SendIcon = ({ className }: { className?: string }) => (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={className}><path d=\"M10 14L21 3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><path d=\"M21 3L14.5 21L10 14L3 10.5L21 3Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path></svg>\r\n);\r\n\r\nconst UserIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path><circle cx=\"12\" cy=\"7\" r=\"4\"></circle></svg>\r\n);\r\n\r\nconst BotIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 8V4H8\" /><rect x=\"4\" y=\"12\" width=\"16\" height=\"8\" rx=\"2\" /><path d=\"M2 12h20\" /><path d=\"m18 4-2.45 2.45\" /><path d=\"m6 4 2.45 2.45\" /></svg>\r\n);\r\n\r\n\r\nfunction App() {\r\n    const [messages, setMessages] = useState<Message[]>([]);\r\n    const [input, setInput] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const [theme, setTheme] = useState<'light' | 'dark'>('light');\r\n    const chatEndRef = useRef<HTMLDivElement>(null);\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.className = theme;\r\n    }, [theme]);\r\n    \r\n    useEffect(() => {\r\n        chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages, isLoading]);\r\n\r\n    useEffect(() => {\r\n        if (textareaRef.current) {\r\n            textareaRef.current.style.height = 'auto';\r\n            const scrollHeight = textareaRef.current.scrollHeight;\r\n            const maxHeight = 200; // 200px max height\r\n            textareaRef.current.style.height = `${Math.min(scrollHeight, maxHeight)}px`;\r\n        }\r\n    }, [input]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!input.trim() || isLoading) return;\r\n\r\n        const userMessage: Message = { sender: 'user', text: input };\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInput('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post<{ answer?: string; sources?: Source[] }>(API_URL, { query: input });\r\n            const botMessage: Message = {\r\n                sender: 'bot',\r\n                text: response.data.answer || \"Sorry, I couldn't get a response.\",\r\n                sources: response.data.sources || [],\r\n            };\r\n            setMessages(prev => [...prev, botMessage]);\r\n        } catch (error) {\r\n            const errorMessage: Message = { sender: 'bot', text: `An error occurred: ${(error as Error).message}` };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSubmit(e as any);\r\n        }\r\n    }\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col h-screen font-sans relative\">\r\n            {/* Decorative Blobs */}\r\n            <div className=\"absolute top-0 left-0 w-72 h-72 bg-violet-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob dark:hidden\"></div>\r\n            <div className=\"absolute top-0 right-0 w-72 h-72 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000 dark:hidden\"></div>\r\n            <div className=\"absolute bottom-0 left-1/4 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000 dark:hidden\"></div>\r\n\r\n            <div className=\"relative flex flex-col h-full w-full max-w-4xl mx-auto z-10\">\r\n                {/* Header */}\r\n                <header className=\"sticky top-0 z-20 flex items-center justify-between p-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-white/70 dark:bg-gray-800/70 backdrop-blur-md\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                        <BotIcon className=\"w-8 h-8 text-violet-500\" />\r\n                        <h1 className=\"text-xl font-bold\">RAG Assistant</h1>\r\n                    </div>\r\n                    <button onClick={toggleTheme} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-violet-500\">\r\n                        {theme === 'light' ? <MoonIcon className=\"w-6 h-6\" /> : <SunIcon className=\"w-6 h-6\" />}\r\n                    </button>\r\n                </header>\r\n\r\n                {/* Chat Area */}\r\n                <main className=\"flex-1 overflow-y-auto p-6 space-y-8\">\r\n                    {messages.length === 0 && !isLoading ? (\r\n                        <div className=\"text-center text-gray-500 dark:text-gray-400 pt-16\">\r\n                            <BotIcon className=\"w-16 h-16 mx-auto mb-4 text-violet-300\" />\r\n                            <h2 className=\"text-2xl font-semibold\">Welcome to your RAG Assistant</h2>\r\n                            <p>Ask a question about your documents to get started.</p>\r\n                        </div>\r\n                    ) : (\r\n                        messages.map((msg, index) => (\r\n                            <div key={index} className={`flex items-start gap-4 ${msg.sender === 'user' ? 'justify-end' : ''}`}>\r\n                                {msg.sender === 'bot' && <BotIcon className=\"w-8 h-8 flex-shrink-0 text-violet-500\" />}\r\n                                <div className={`prose dark:prose-invert max-w-2xl p-4 rounded-xl shadow-md ${\r\n                                    msg.sender === 'user' \r\n                                    ? 'bg-violet-500 text-white rounded-br-none' \r\n                                    : 'bg-white dark:bg-gray-800 rounded-bl-none'\r\n                                }`}>\r\n                                    <ReactMarkdown remarkPlugins={[remarkGfm]}>{msg.text}</ReactMarkdown>\r\n                                </div>\r\n                                {msg.sender === 'user' && <div className=\"w-8 h-8 flex-shrink-0 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center\"><UserIcon className=\"w-5 h-5\" /></div>}\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                    {isLoading && (\r\n                        <div className=\"flex items-start gap-4\">\r\n                            <BotIcon className=\"w-8 h-8 flex-shrink-0 text-violet-500\" />\r\n                            <div className=\"prose dark:prose-invert max-w-2xl p-4 rounded-lg shadow-md bg-white dark:bg-gray-800 rounded-bl-none\">\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <div className=\"w-2 h-2 bg-violet-500 rounded-full animate-pulse\"></div>\r\n                                    <div className=\"w-2 h-2 bg-violet-500 rounded-full animate-pulse [animation-delay:0.2s]\"></div>\r\n                                    <div className=\"w-2 h-2 bg-violet-500 rounded-full animate-pulse [animation-delay:0.4s]\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div ref={chatEndRef} />\r\n                </main>\r\n\r\n                {/* Footer / Input Area */}\r\n                <footer className=\"p-4 sticky bottom-0 z-20\">\r\n                    <form onSubmit={handleSubmit} className=\"relative\">\r\n                        <div className=\"relative\">\r\n                            <textarea\r\n                                ref={textareaRef}\r\n                                value={input}\r\n                                onChange={(e) => setInput(e.target.value)}\r\n                                onKeyDown={handleKeyDown}\r\n                                placeholder=\"Ask your question...\"\r\n                                disabled={isLoading}\r\n                                rows={1}\r\n                                className=\"w-full p-4 pr-12 text-base bg-white/70 dark:bg-gray-800/70 border border-gray-300/50 dark:border-gray-600/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500 dark:focus:ring-violet-500 resize-none shadow-lg transition-all duration-300\r\n                                           backdrop-blur-md\r\n                                          \"\r\n                            />\r\n                            <button type=\"submit\" className=\"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full text-violet-500 hover:bg-violet-100 dark:hover:bg-gray-700 disabled:text-gray-400 disabled:dark:text-gray-500 disabled:hover:bg-transparent transition-colors\" disabled={!input.trim() || isLoading}>\r\n                                <SendIcon className=\"w-6 h-6\" />\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}