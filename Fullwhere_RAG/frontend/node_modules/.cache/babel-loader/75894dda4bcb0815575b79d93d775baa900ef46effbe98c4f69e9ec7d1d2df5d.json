{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\onexy\\\\Desktop\\\\cours\\\\DesignThinking_IndustrialisationIA\\\\Fullwhere_RAG\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/query';\n\n// --- Interfaces ---\n\n// --- SVG Icon Components ---\nconst SunIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 205\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 244\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"21\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 287\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"4.22\",\n    x2: \"5.64\",\n    y2: \"5.64\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 332\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"18.36\",\n    x2: \"19.78\",\n    y2: \"19.78\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 385\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"1\",\n    y1: \"12\",\n    x2: \"3\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 442\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"23\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 485\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"19.78\",\n    x2: \"5.64\",\n    y2: \"18.36\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 530\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"5.64\",\n    x2: \"19.78\",\n    y2: \"4.22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 585\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 5\n}, this);\n_c = SunIcon;\nconst MoonIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 205\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 5\n}, this);\n_c2 = MoonIcon;\nconst SendIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 2L11 13\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 2L15 22L11 13L2 9L22 2Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 30,\n  columnNumber: 5\n}, this);\n_c3 = SendIcon;\nconst UserIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 37,\n  columnNumber: 5\n}, this);\n_c4 = UserIcon;\nconst BotIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"2\",\n    y: \"8\",\n    width: \"20\",\n    height: \"12\",\n    rx: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 4v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 2h8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 16h8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 5\n}, this);\n_c5 = BotIcon;\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [theme, setTheme] = useState('light');\n  const chatEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    document.documentElement.className = theme;\n  }, [theme]);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, isLoading]);\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      const scrollHeight = textareaRef.current.scrollHeight;\n      const maxHeight = 120;\n      textareaRef.current.style.height = `${Math.min(scrollHeight, maxHeight)}px`;\n    }\n  }, [input]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n    const userMessage = {\n      sender: 'user',\n      text: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n    try {\n      const response = await axios.post(API_URL, {\n        query: input\n      });\n      const botMessage = {\n        sender: 'bot',\n        text: response.data.answer || \"Sorry, I couldn't get a response.\",\n        sources: response.data.sources || []\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = {\n        sender: 'bot',\n        text: `An error occurred: ${error.message}`\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const toggleTheme = () => {\n    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 to-white text-gray-900 font-sans antialiased\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-grid-pattern opacity-[0.02] pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-col h-screen max-w-screen-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"sticky top-0 z-20 py-4 backdrop-blur-lg bg-white/70 dark:bg-gray-900/70 border-b border-gray-200/50 dark:border-gray-700/50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(BotIcon, {\n                className: \"w-6 h-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-semibold tracking-tight\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-gradient-to-r from-indigo-500 to-purple-500 bg-clip-text text-transparent\",\n                children: \"RAG Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleTheme,\n            className: \"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200\",\n            children: theme === 'light' ? /*#__PURE__*/_jsxDEV(MoonIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 50\n            }, this) : /*#__PURE__*/_jsxDEV(SunIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 85\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-y-auto py-8 px-4 sm:px-6 lg:px-8 space-y-6\",\n        children: [messages.length === 0 && !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center h-full space-y-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-gradient-to-br from-blue-500 to-violet-500 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300\",\n            children: /*#__PURE__*/_jsxDEV(BotIcon, {\n              className: \"w-12 h-12 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 max-w-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-semibold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-violet-500\",\n              children: \"Welcome to RAG Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-lg\",\n              children: \"Ask me anything about your documents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-start gap-4 ${msg.sender === 'user' ? 'flex-row-reverse' : ''} animate-in slide-in-from-bottom duration-500 ease-out`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-shrink-0 ${msg.sender === 'user' ? 'bg-gradient-to-br from-blue-500 to-violet-500' : 'bg-gray-100'} p-2 rounded-xl shadow-sm`,\n            children: msg.sender === 'user' ? /*#__PURE__*/_jsxDEV(UserIcon, {\n              className: \"w-5 h-5 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 43\n            }, this) : /*#__PURE__*/_jsxDEV(BotIcon, {\n              className: \"w-5 h-5 text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `group flex-1 max-w-2xl ${msg.sender === 'user' ? 'text-right' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `inline-block px-4 py-3 rounded-2xl transition-all duration-300 ${msg.sender === 'user' ? 'bg-gradient-to-br from-blue-500 to-violet-500 text-white' : 'bg-white/80 hover:bg-white/90 shadow-sm backdrop-blur-sm'}`,\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                remarkPlugins: [remarkGfm],\n                className: \"prose dark:prose-invert max-w-none\",\n                children: msg.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-4 animate-in fade-in duration-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 bg-gray-100 p-2 rounded-xl shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(BotIcon, {\n              className: \"w-5 h-5 text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 max-w-2xl\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-block px-4 py-3 rounded-2xl bg-white/80 shadow-sm backdrop-blur-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-violet-500 rounded-full animate-bounce [animation-delay:0.2s]\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-purple-500 rounded-full animate-bounce [animation-delay:0.4s]\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chatEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky bottom-0 z-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"relative group\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: textareaRef,\n                value: input,\n                onChange: e => setInput(e.target.value),\n                onKeyDown: handleKeyDown,\n                placeholder: \"Type your message...\",\n                disabled: isLoading,\n                rows: 1,\n                className: \"w-full pl-4 pr-12 py-3 bg-white/80 backdrop-blur-lg rounded-2xl resize-none transition-all duration-300\\r focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white\\r disabled:opacity-50 disabled:cursor-not-allowed\\r placeholder-gray-400\\r text-base leading-6\",\n                style: {\n                  boxShadow: '0 0 0 1px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.05)'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: !input.trim() || isLoading,\n                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-400 \\r hover:text-blue-500 disabled:opacity-50 disabled:hover:text-gray-400 \\r transition-all duration-300 rounded-lg hover:bg-blue-50\",\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {\n                  className: \"w-5 h-5 transform rotate-45\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"vVM1Kg8lyXZRh4/bcC19Dp9zArY=\");\n_c6 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SunIcon\");\n$RefreshReg$(_c2, \"MoonIcon\");\n$RefreshReg$(_c3, \"SendIcon\");\n$RefreshReg$(_c4, \"UserIcon\");\n$RefreshReg$(_c5, \"BotIcon\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ReactMarkdown","remarkGfm","jsxDEV","_jsxDEV","API_URL","SunIcon","className","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","cx","cy","r","fileName","_jsxFileName","lineNumber","columnNumber","x1","y1","x2","y2","_c","MoonIcon","d","_c2","SendIcon","_c3","UserIcon","_c4","BotIcon","x","y","rx","_c5","App","_s","messages","setMessages","input","setInput","isLoading","setIsLoading","theme","setTheme","chatEndRef","textareaRef","document","documentElement","_chatEndRef$current","current","scrollIntoView","behavior","style","scrollHeight","maxHeight","Math","min","handleSubmit","e","preventDefault","trim","userMessage","sender","text","prev","response","post","query","botMessage","data","answer","sources","error","errorMessage","message","handleKeyDown","key","shiftKey","toggleTheme","prevTheme","onClick","length","map","msg","index","remarkPlugins","ref","onSubmit","value","onChange","target","onKeyDown","placeholder","disabled","rows","boxShadow","type","_c6","$RefreshReg$"],"sources":["C:/Users/onexy/Desktop/cours/DesignThinking_IndustrialisationIA/Fullwhere_RAG/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\n\r\nconst API_URL = 'http://localhost:5001/query';\r\n\r\n// --- Interfaces ---\r\ninterface Source {\r\n  content: string;\r\n  file?: string;\r\n}\r\n\r\ninterface Message {\r\n  sender: 'user' | 'bot';\r\n  text: string;\r\n  sources?: Source[];\r\n}\r\n\r\n// --- SVG Icon Components ---\r\nconst SunIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"5\"></circle><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line></svg>\r\n);\r\n\r\nconst MoonIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path></svg>\r\n);\r\n\r\nconst SendIcon = ({ className }: { className?: string }) => (\r\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={className}>\r\n        <path d=\"M22 2L11 13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        <path d=\"M22 2L15 22L11 13L2 9L22 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    </svg>\r\n);\r\n\r\nconst UserIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n        <path d=\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\"/>\r\n        <circle cx=\"12\" cy=\"7\" r=\"4\"/>\r\n    </svg>\r\n);\r\n\r\nconst BotIcon = ({ className }: { className?: string }) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n        <rect x=\"2\" y=\"8\" width=\"20\" height=\"12\" rx=\"2\"/>\r\n        <path d=\"M12 4v4\"/>\r\n        <path d=\"M8 2h8\"/>\r\n        <path d=\"M12 12v4\"/>\r\n        <path d=\"M8 16h8\"/>\r\n    </svg>\r\n);\r\n\r\nfunction App() {\r\n    const [messages, setMessages] = useState<Message[]>([]);\r\n    const [input, setInput] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const [theme, setTheme] = useState<'light' | 'dark'>('light');\r\n    const chatEndRef = useRef<HTMLDivElement>(null);\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.className = theme;\r\n    }, [theme]);\r\n    \r\n    useEffect(() => {\r\n        chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages, isLoading]);\r\n\r\n    useEffect(() => {\r\n        if (textareaRef.current) {\r\n            textareaRef.current.style.height = 'auto';\r\n            const scrollHeight = textareaRef.current.scrollHeight;\r\n            const maxHeight = 120;\r\n            textareaRef.current.style.height = `${Math.min(scrollHeight, maxHeight)}px`;\r\n        }\r\n    }, [input]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!input.trim() || isLoading) return;\r\n\r\n        const userMessage: Message = { sender: 'user', text: input };\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInput('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post<{ answer?: string; sources?: Source[] }>(API_URL, { query: input });\r\n            const botMessage: Message = {\r\n                sender: 'bot',\r\n                text: response.data.answer || \"Sorry, I couldn't get a response.\",\r\n                sources: response.data.sources || [],\r\n            };\r\n            setMessages(prev => [...prev, botMessage]);\r\n        } catch (error) {\r\n            const errorMessage: Message = { sender: 'bot', text: `An error occurred: ${(error as Error).message}` };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSubmit(e as any);\r\n        }\r\n    }\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-white text-gray-900 font-sans antialiased\">\r\n            {/* Subtle background patterns */}\r\n            <div className=\"fixed inset-0 bg-grid-pattern opacity-[0.02] pointer-events-none\"></div>\r\n            \r\n            <div className=\"relative flex flex-col h-screen max-w-screen-2xl mx-auto\">\r\n                {/* Header */}\r\n                <header className=\"sticky top-0 z-20 py-4 backdrop-blur-lg bg-white/70 dark:bg-gray-900/70 border-b border-gray-200/50 dark:border-gray-700/50\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            <div className=\"p-2 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl shadow-lg\">\r\n                                <BotIcon className=\"w-6 h-6 text-white\" />\r\n                            </div>\r\n                            <h1 className=\"text-xl font-semibold tracking-tight\">\r\n                                <span className=\"bg-gradient-to-r from-indigo-500 to-purple-500 bg-clip-text text-transparent\">RAG Assistant</span>\r\n                            </h1>\r\n                        </div>\r\n                        <button \r\n                            onClick={toggleTheme}\r\n                            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200\"\r\n                        >\r\n                            {theme === 'light' ? <MoonIcon className=\"w-5 h-5\" /> : <SunIcon className=\"w-5 h-5\" />}\r\n                        </button>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Chat Area */}\r\n                <main className=\"flex-1 overflow-y-auto py-8 px-4 sm:px-6 lg:px-8 space-y-6\">\r\n                    {messages.length === 0 && !isLoading ? (\r\n                        <div className=\"flex flex-col items-center justify-center h-full space-y-6 text-center\">\r\n                            <div className=\"p-4 bg-gradient-to-br from-blue-500 to-violet-500 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300\">\r\n                                <BotIcon className=\"w-12 h-12 text-white\" />\r\n                            </div>\r\n                            <div className=\"space-y-2 max-w-md\">\r\n                                <h2 className=\"text-3xl font-semibold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-violet-500\">\r\n                                    Welcome to RAG Assistant\r\n                                </h2>\r\n                                <p className=\"text-gray-500 text-lg\">\r\n                                    Ask me anything about your documents\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        messages.map((msg, index) => (\r\n                            <div \r\n                                key={index} \r\n                                className={`flex items-start gap-4 ${msg.sender === 'user' ? 'flex-row-reverse' : ''} animate-in slide-in-from-bottom duration-500 ease-out`}\r\n                            >\r\n                                {/* Avatar */}\r\n                                <div className={`flex-shrink-0 ${\r\n                                    msg.sender === 'user' \r\n                                        ? 'bg-gradient-to-br from-blue-500 to-violet-500'\r\n                                        : 'bg-gray-100'\r\n                                } p-2 rounded-xl shadow-sm`}>\r\n                                    {msg.sender === 'user' \r\n                                        ? <UserIcon className=\"w-5 h-5 text-white\" />\r\n                                        : <BotIcon className=\"w-5 h-5 text-blue-500\" />\r\n                                    }\r\n                                </div>\r\n\r\n                                {/* Message */}\r\n                                <div className={`group flex-1 max-w-2xl ${msg.sender === 'user' ? 'text-right' : ''}`}>\r\n                                    <div className={`inline-block px-4 py-3 rounded-2xl transition-all duration-300 ${\r\n                                        msg.sender === 'user'\r\n                                            ? 'bg-gradient-to-br from-blue-500 to-violet-500 text-white'\r\n                                            : 'bg-white/80 hover:bg-white/90 shadow-sm backdrop-blur-sm'\r\n                                    }`}>\r\n                                        <ReactMarkdown \r\n                                            remarkPlugins={[remarkGfm]}\r\n                                            className=\"prose dark:prose-invert max-w-none\"\r\n                                        >\r\n                                            {msg.text}\r\n                                        </ReactMarkdown>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                    {isLoading && (\r\n                        <div className=\"flex items-start gap-4 animate-in fade-in duration-500\">\r\n                            <div className=\"flex-shrink-0 bg-gray-100 p-2 rounded-xl shadow-sm\">\r\n                                <BotIcon className=\"w-5 h-5 text-blue-500\" />\r\n                            </div>\r\n                            <div className=\"flex-1 max-w-2xl\">\r\n                                <div className=\"inline-block px-4 py-3 rounded-2xl bg-white/80 shadow-sm backdrop-blur-sm\">\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\r\n                                        <div className=\"w-2 h-2 bg-violet-500 rounded-full animate-bounce [animation-delay:0.2s]\"></div>\r\n                                        <div className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce [animation-delay:0.4s]\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div ref={chatEndRef} />\r\n                </main>\r\n\r\n                {/* Input Area */}\r\n                <div className=\"sticky bottom-0 z-10\">\r\n                    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-6\">\r\n                        <form onSubmit={handleSubmit} className=\"relative group\">\r\n                            <div className=\"relative\">\r\n                                <textarea\r\n                                    ref={textareaRef}\r\n                                    value={input}\r\n                                    onChange={(e) => setInput(e.target.value)}\r\n                                    onKeyDown={handleKeyDown}\r\n                                    placeholder=\"Type your message...\"\r\n                                    disabled={isLoading}\r\n                                    rows={1}\r\n                                    className=\"w-full pl-4 pr-12 py-3 bg-white/80 backdrop-blur-lg rounded-2xl resize-none transition-all duration-300\r\n                                    focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white\r\n                                    disabled:opacity-50 disabled:cursor-not-allowed\r\n                                    placeholder-gray-400\r\n                                    text-base leading-6\"\r\n                                    style={{\r\n                                        boxShadow: '0 0 0 1px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.05)',\r\n                                    }}\r\n                                />\r\n                                <button \r\n                                    type=\"submit\" \r\n                                    disabled={!input.trim() || isLoading}\r\n                                    className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-400 \r\n                                    hover:text-blue-500 disabled:opacity-50 disabled:hover:text-gray-400 \r\n                                    transition-all duration-300 rounded-lg hover:bg-blue-50\"\r\n                                >\r\n                                    <SendIcon className=\"w-5 h-5 transform rotate-45\" />\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}